<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XLSX Feature Flag Demo</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .demo-card { background: white; border-radius: 8px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .flag-disabled { border-left: 4px solid #f59e0b; }
        .flag-enabled { border-left: 4px solid #10b981; }
        .button { padding: 8px 16px; border-radius: 4px; border: 1px solid #d1d5db; background: white; cursor: pointer; }
        .button:disabled { background: #f3f4f6; color: #9ca3af; cursor: not-allowed; }
        .warning { background: #fef3cd; border: 1px solid #f59e0b; color: #92400e; padding: 12px; border-radius: 4px; margin: 10px 0; }
        .warning-icon { display: inline-block; margin-right: 8px; }
        h1 { color: #1f2937; }
        h2 { color: #374151; margin-top: 0; }
        .code { background: #f3f4f6; padding: 2px 4px; border-radius: 2px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>üîí XLSX Feature Flag Implementation Demo</h1>
    
    <div class="demo-card flag-disabled">
        <h2>Flag Disabled (VITE_ENABLE_XLSX_IMPORT=false)</h2>
        <p><strong>Default Security State:</strong> XLSX import is disabled by default for security.</p>
        
        <div class="warning">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <strong>XLSX import is currently disabled</strong><br>
            XLSX import has been disabled for security reasons. Contact your administrator to enable this feature.
        </div>
        
        <input type="file" accept="" disabled style="display: none;">
        <button class="button" disabled>üì§ Select Excel file</button>
        
        <p><small>Supported formats: .xlsx, .xls<br>Maximum file size: 10 MB</small></p>
        
        <h3>Behavior:</h3>
        <ul>
            <li>‚úÖ File input is disabled</li>
            <li>‚úÖ Upload button is disabled</li>  
            <li>‚úÖ Accept attribute is empty (<code>accept=""</code>)</li>
            <li>‚úÖ Warning message is displayed</li>
            <li>‚úÖ Runtime guard prevents bypass via direct API calls</li>
        </ul>
    </div>
    
    <div class="demo-card flag-enabled">
        <h2>Flag Enabled (VITE_ENABLE_XLSX_IMPORT=true)</h2>
        <p><strong>Enabled State:</strong> XLSX import is explicitly enabled via environment configuration.</p>
        
        <input type="file" accept=".xlsx,.xls" style="display: none;">
        <button class="button">üì§ Select Excel file</button>
        
        <p><small>Supported formats: .xlsx, .xls<br>Maximum file size: 10 MB</small></p>
        
        <h3>Behavior:</h3>
        <ul>
            <li>‚úÖ File input is enabled</li>
            <li>‚úÖ Upload button is enabled</li>
            <li>‚úÖ Accept attribute allows Excel files (<code>accept=".xlsx,.xls"</code>)</li>
            <li>‚úÖ No warning message</li>
            <li>‚úÖ Full upload functionality available</li>
        </ul>
    </div>
    
    <div class="demo-card">
        <h2>Security Impact</h2>
        <ul>
            <li>‚úÖ <strong>Off by default</strong> - Maximum security by default</li>
            <li>‚úÖ <strong>Explicit opt-in</strong> - Must be consciously enabled via <code>VITE_ENABLE_XLSX_IMPORT=true</code></li>
            <li>‚úÖ <strong>UI blocks usage</strong> - Clear visual indication when disabled</li>
            <li>‚úÖ <strong>Runtime guard</strong> - Prevents bypass via direct hook calls</li>
            <li>‚úÖ <strong>Fast rollback</strong> - Can be disabled immediately by changing env var</li>
        </ul>
        
        <h2>How to Enable</h2>
        <p>Create <code>.env.local</code> file:</p>
        <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px;">VITE_ENABLE_XLSX_IMPORT=true</pre>
        <p>Then restart the dev server.</p>
    </div>
</body>
</html>